<!-- sidebar group -->


<!-- Chats sidebar -->
<div id="chats" class="sidebar active">
    <header>
        <span>Chats</span>
        <ul class="list-inline">
            <li class="list-inline-item" data-toggle="tooltip" title="" data-original-title="New Group">
                <a class="btn btn-light" data-toggle="modal" data-target="#newGroup">
                    <i class="fa fa-users"></i>
                </a>
            </li>
            <li class="list-inline-item">
                <a class="btn btn-light" data-toggle="tooltip" title="" data-navigation-target="friends"
                    data-original-title="New Chat">
                    <i class="ti-comment-alt"></i>
                </a>
            </li>
            <li class="list-inline-item d-lg-none d-sm-block">
                <a class="btn btn-light sidebar-close">
                    <i class="ti-close"></i>
                </a>
            </li>
        </ul>
    </header>
    <form action="">
        <input type="text" class="form-control" placeholder="Search chat">
    </form>
    <div class="sidebar-body">
        <ul class="list-group list-group-flush" *ngIf="conversations?.length > 0; else noMessage">
            <ng-container *ngFor="let conversation of conversations">
                <li class="list-group-item" (click)="selectConversation(conversation?.conversationId)">
                    <figure class="avatar avatar-state-success">
                        <img [src]="getGuestParticipantByConversationId(conversation?.conversationId)?.user?.avatar?.downloadURL || emptyAvatar"
                            class="rounded-circle">
                    </figure>
                    <div class="users-list-body" *ngIf="conversation">
                        <h5
                            [innerText]="getGuestParticipantByConversationId(conversation?.conversationId)?.user?.displayName">
                            Patsy
                            Paulton</h5>
                        <!-- <p>Traditional heading elscas sdscsd sdcsdsc</p> -->
                        <p class="last-message"
                            [innerText]="getMessagesByConversationId(conversation?.conversationId) | lastData :'messageContent'">
                        </p>
                        <div *ngIf="calculateUnReadMessage(getMessagesByConversationId(conversation?.conversationId)) != 0"
                            class="users-list-action">
                            <div class="new-message-count"
                                [innerText]="calculateUnReadMessage(getMessagesByConversationId(conversation?.conversationId))">
                                2</div>
                        </div>
                    </div>
                </li>
            </ng-container>
        </ul>
        <ng-template #noMessage>
            <div class="deneme">
                <p>
                    Konu≈üma Yok
                </p>
            </div>
        </ng-template>

    </div>
</div>
<!-- ./ Chats sidebar -->

<!-- Friends sidebar -->
<div id="friends" class="sidebar">
    <header>
        <span>Friends</span>
        <ul class="list-inline">
            <li class="list-inline-item">
                <!-- <li class="list-inline-item" *ngFor="let u of users" (click)="selectUser(u)"> -->
                <a class="btn btn-light" data-toggle="modal" data-target="#addFriends">
                    <i class="ti-plus btn-icon"></i> Add Friends
                </a>
            </li>
            <li class="list-inline-item d-lg-none d-sm-block">
                <a class="btn btn-light sidebar-close">
                    <i class="ti-close"></i>
                </a>
            </li>
        </ul>
    </header>
    <form action="">
        <input type="text" class="form-control" placeholder="Search chat">
    </form>
    <div class="sidebar-body">
        <ul class="list-group list-group-flush">
            <li class="list-group-item" *ngFor="let user of users | async" (click)="selectUser(user?.userId)">
                <div>
                    <figure class="avatar">
                        <img [src]="user?.avatar?.downloadURL || emptyAvatar" class="rounded-circle">
                    </figure>
                </div>
                <div class="users-list-body">
                    <h5>{{user?.displayName}}</h5>
                    <p>{{user?.bio}}</p>
                    <div class="users-list-action action-toggle">
                        <div class="dropdown">
                            <a data-toggle="dropdown">
                                <i class="ti-more"></i>
                            </a>
                            <div class="dropdown-menu dropdown-menu-right">
                                <a class="dropdown-item">Open</a>
                                <a data-navigation-target="contact-information" class="dropdown-item">Profile</a>
                                <a class="dropdown-item">Add to archive</a>
                                <a class="dropdown-item">Delete</a>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</div>
<!-- ./ Friends sidebar -->

<!-- Favorites sidebar -->
<div id="favorites" class="sidebar">
    <header>
        <span>Favorites</span>
        <ul class="list-inline">
            <li class="list-inline-item d-lg-none d-sm-block">
                <a class="btn btn-light sidebar-close">
                    <i class="ti-close"></i>
                </a>
            </li>
        </ul>
    </header>
    <form action="">
        <input type="text" class="form-control" placeholder="Search favorites">
    </form>
    <div class="sidebar-body">
        <ul class="list-group list-group-flush users-list">
            <li class="list-group-item">
                <div class="users-list-body">
                    <h5>Jennica Kindred</h5>
                    <p>I know how important this file is to you. You can trust me ;)</p>
                    <div class="users-list-action action-toggle">
                        <div class="dropdown">
                            <a data-toggle="dropdown">
                                <i class="ti-more"></i>
                            </a>
                            <div class="dropdown-menu dropdown-menu-right">
                                <a class="dropdown-item">View Chat</a>
                                <a class="dropdown-item">Forward</a>
                                <a class="dropdown-item">Delete</a>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
            <li class="list-group-item">
                <div class="users-list-body">
                    <h5>Marvin Rohan</h5>
                    <p>Lorem ipsum dolor sitsdc sdcsdc sdcsdcs</p>
                    <div class="users-list-action action-toggle">
                        <div class="dropdown">
                            <a data-toggle="dropdown">
                                <i class="ti-more"></i>
                            </a>
                            <div class="dropdown-menu dropdown-menu-right">
                                <a class="dropdown-item">View Chat</a>
                                <a class="dropdown-item">Forward</a>
                                <a class="dropdown-item">Delete</a>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
            <li class="list-group-item">
                <div class="users-list-body">
                    <h5>Frans Hanscombe</h5>
                    <p>Lorem ipsum dolor sitsdc sdcsdc sdcsdcs</p>
                    <div class="users-list-action action-toggle">
                        <div class="dropdown">
                            <a data-toggle="dropdown">
                                <i class="ti-more"></i>
                            </a>
                            <div class="dropdown-menu dropdown-menu-right">
                                <a class="dropdown-item">View Chat</a>
                                <a class="dropdown-item">Forward</a>
                                <a class="dropdown-item">Delete</a>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
            <li class="list-group-item">
                <div class="users-list-body">
                    <h5>Karl Hubane</h5>
                    <p>Lorem ipsum dolor sitsdc sdcsdc sdcsdcs</p>
                    <div class="users-list-action action-toggle">
                        <div class="dropdown">
                            <a data-toggle="dropdown">
                                <i class="ti-more"></i>
                            </a>
                            <div class="dropdown-menu dropdown-menu-right">
                                <a class="dropdown-item">View Chat</a>
                                <a class="dropdown-item">Forward</a>
                                <a class="dropdown-item">Delete</a>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</div>
<!-- ./ Stars sidebar -->


<!-- ./ sidebar group -->